## 职工管理系统

### 系统需求

职工管理系统可以用来管理公司内所有员工的信息

利用C++来实现一个基于多态的职工管理系统

公司中职工分为三类：普通员工、经理、老板。显示信息时，需要显示职工编号、职工姓名、职工岗位、以及职责

普通员工职责：完成经理交给的任务

经理职责：完成老板交给的任务，并下发任务给员工

老板职责：管理公司所有事务

管理系统中需要实现以下功能：

- 退出管理程序：退出当前管理系统
- 增加职工信息：实现批量添加职工功能，将信息录入文件中，职工信息为：职工编号，姓名，部门编号
- 显示职工信息：显示公司内部所有职工的信息
- 删除离职职工：按照编号删除指定的职工
- 修改职工信息：按照编号修改职工个人信息
- 查找职工信息：按照职工的编号或者职工的姓名进行查找修改的人员信息
- 按照编号排序：按照职工编号，进行排序，排序规则由用户指定
- 清空所有文档：清空文件中所有记录的职工信息(清空前需要再次确认，防止误删)

### 创建管理类

管理类负责内容：

- 与用户的沟通菜单界面
- 对职工增删改查的操作
- 与文件的读写交互

### 菜单功能

与用户的沟通界面

### 退出功能

退出当前管理系统

- 在main函数中提供分支选择，提供每个功能的接口
- 实现退出功能

### 创建职工类

- 创建职工抽象类

  职工的分类为：普通员工、经理、老板

  将三种职工抽象到一个类中，利用多态管理不同职工种类

  职工属性为：职工编号、职工姓名、职工所在部门编号

  职工的行为为：岗位职责信息描述，获取岗位名称

- 创建普通员工类

  普通员工类继承职工抽象类，并重写父类中纯虚函数

- 创建经理类

  经理类继承职工抽象类，并重写父类中纯虚函数

- 创建老板类

  老板类继承职工抽象类，并重写父类中纯虚函数

### 添加职工

实现批量添加职工功能，将信息录入文件中，

职工信息为：职工编号，姓名，部门编号

##### 功能分析

用户在批量创建时，可能会创建不同种类的职工

如果想将所有不同种类的员工都放入到一个数组中，可以将所有员工的指针维护到一个数组里

如果想在程序中维护整个不定长的数组，可以将数字创建到堆区，并利用Worker**的指针维护

![image-20200903104731271](C:\Users\xuyingfeng\AppData\Roaming\Typora\typora-user-images\image-20200903104731271.png)

### 文件交互

##### 写文件

对文件进行读写

在上一个添加功能中，我们只是将所有的数据添加到了内存，一旦程序结束就无法保存了

因此文件管理类中需要一个与文件交换的功能，对文件进行读写操作

##### 读文件

将文件中的内容读取到程序中

虽然我们实现了职工添加后保存到文件的操作，但是每次运行程序，并没有把文件中的数据读到程序中

而我们的程序功能中还有清空文件的需求

因此构造函数初始化数据的清空分为三种：

1. 第一次使用，文件未创建
2. 文件存在，但是数据被用户清空
3. 文件存在，并且保存职工的所有数据

### 显示职工信息

显示公司内部所有职工的信息

### 删除离职职工

按照编号删除指定的职工

##### 职工是否存在函数

很多功能都需要用到根据职工是否存在来进行存在如：删除职工，修改职工，查找职工

因此添加职工是否存在函数

### 修改职工信息

按照编号修改职工个人信息

### 查找职工信息

按照职工的编号或者职工的姓名进行查找修改的人员信息

### 按照编号排序

按照职工编号，进行排序，排序规则由用户指定

### 清空所有文档

清空文件中所有记录的职工信息(清空前需要再次确认，防止误删)