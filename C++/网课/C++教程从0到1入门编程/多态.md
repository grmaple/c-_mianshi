## 多态

多态是C++面向对象三大特性(封装,继承,多态)之一

多态分两类

- 静态多态：函数重载和运算符重载。编译阶段静态绑定。

- 动态多态：派生类和虚函数。运行阶段动态绑定。

overload重载，编译时的多态，为我们提供了运行速度快的特点，
override覆盖，运行时的多态，则带来了高度灵活和抽象的特点。

重载是同一个类中方法之间的关系，是水平关系，
覆盖是子类和父类之间的关系，是垂直关系。

### 纯虚函数和抽象类

在多态中，通常父类中虚函数的实现是毫无意义的，主要都是调用子类重写的内容。

因此可以将虚函数改为纯虚函数。

virtual void func() = 0;

当类中有了纯虚函数，这个类也称为抽象类。

抽象类特点：

- 无法实例化对象
- 子类必须重写抽象类中的纯虚函数，否则也属于抽象类

### 虚析构和纯虚析构

多态使用时，如果子类中有属性开辟到堆区，那么父类指针再释放时无法调用子类的析构函数。

解决方法：将父类中的析构函数改为虚析构或者纯虚析构。

虚析构和纯虚析构

- 共性
  - 可以解决父类指针释放子类对象
  - 都需要有具体的函数实现
- 区别
  - 如果是纯虚析构，该类属于抽象类，无法实例化对象

虚析构

virtual ~Foo() {}

纯虚析构

virtual ~Foo() = 0;

Foo::~Foo() {}